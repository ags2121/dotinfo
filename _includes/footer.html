<footer>
  <img src="https://ia802705.us.archive.org/29/items/publicradioinfo/pr-radio-footer.png">
  <script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

  <script>
    var 
      audioPlayer = $('audio')[0],
      audioSource = $('audio').find('source'),
      nprURL = 'https://api.npr.org/query?id=500005&profileTypeId=15&meta=inherit&apiKey=MDIxMDY2MTYzMDE0NDY0MDQ5NzY4YWJlNg000&output=JSON&numResults=1&fields=audio';

    loadAudio($('#news').find('.bbc').attr('href')); // set default audio
    $('.listen').on('click', playAudioHandler);
    window.addEventListener('keydown', onKeyDown, false);

    function playAudioHandler (e) {
      e.preventDefault();
      var clickedAudio = e.target.href;

      if (clickedSameAudio(clickedAudio)) {
        if (audioPlayer.paused) {
          audioPlayer.play();
        } else {
          audioPlayer.pause();  
        }
        return;
      }

      playAudio(clickedAudio);
    }

    function playAudio (audioUrl) {
      loadAudio(audioUrl);
      audioPlayer.oncanplaythrough = audioPlayer.play();
    }

    function loadAudio (audioUrl) {
      audioSource.attr('src', audioUrl);
      audioPlayer.pause();
      audioPlayer.load();
    }

    function clickedSameAudio (currentAudioSrc) {
      return !audioPlayer.ended && (0 < audioPlayer.currentTime)
      && currentAudioSrc === audioSource.attr('src');
    }

    function onKeyDown (e) {
      switch (e.keyCode) {
        case 32: //spacebar                    
          e.preventDefault();
          if (audioPlayer.paused) {            
              audioPlayer.play();
          } else {
              audioPlayer.pause();
          } 
          break;
        case 37: //back arrow
          audioPlayer.currentTime -= 15
          break;
        case 39: //forward arrow
          audioPlayer.currentTime += 15
          break;
      }
      return false;
    }

    $.ajax({
      url: nprURL,
      type: 'GET',
      dataType: 'JSON',
      success: function (data) {
        var nprAudio = data.list.story[0].audio[0].format.mp3[0].$text
        $('#news').find('.npr').attr('href', nprAudio);
      }
    });

  </script>
</footer>
